<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title>Show lists</title>    
    <script src="superfetch2.js"></script>
    <style src="style.css"></style>
</head>

<body>
    <div id="box1">
        
            <h3 id="delete">Slett liste: </h3>
            <input id="deletelist" placeholder="List ID" />
            <button id="btncreate">Delete</button>
        
    </div>
</body>

<script> 
    
    var inpdeletelist = document.getElementById("deletelist");
    var btncreate = document.getElementById("btncreate");
    
     console.log(inpdeletelist);
    
    var url = "http://localhost:3000/lists/";
    
   
    superfetch(url, "json", succ, error);
    
    btncreate.onclick = function() {
        
        var url = "http://localhost:3000/lists/?listid=" + inpdeletelist.value;
        
        superfetch(url, "json", delSucc, error, {method: "DELETE"});
    }
    
    function delSucc(data){
        console.log(data);
    }
    
    
    //success --------------------------------------
    function succ(data) {
        
    for (var i = 0; i < data.length; i++) {
        
        var div = document.createElement("div");
        div.innerHTML += "<h3>ID: " + data[i].listid + "</h3>";
        div.innerHTML += "<h3>Listenavn: " + data[i].listname + "</h3>"; 
        div.innerHTML += "<h3>End time: " + data[i].duetime + "</h3>"; 
       // div.innerHTML += "<h3>Duration: " + data[i].duration.minutes + "</h3>"; 
        div.innerHTML += "<h3>Duedate: " + data[i].duedate + "</h3>"; 
        div.innerHTML += "<h3>Description: " + data[i].listdescription + "</h3>"; 
        var hr = document.createElement("hr");
        document.body.appendChild(div);
        document.body.appendChild(hr);
    }
}
    
    //error ----------------------------------------
    function error(err) {
        console.log(err);
    } 
    

</script>

</html>
